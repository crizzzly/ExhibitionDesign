#:import win kivy.core.window.Window
#:import clock kivy.clock.Clock


<CircleButton>:
    id: circles
    radius: 150
    size: 300, 300
    color: root.color
    on_size: self.canvas.ask_update()
    make_bigger: root.make_bigger
    name: root.name
    # target: root.target
    canvas:
        Color:
            rgb: self.color
            # 0.502, 0.2588, 0.9569
        Ellipse:
            pos:  self.pos[0], self.pos[1]  #
            size:  self.radius*2, self.radius*2
    # Popup:
    #     id: popup
    #     title: 'test'
        # size_hint: 0.5, .5

<Menu>:
    CircleButton:
        id: bottom_right
        name: "br"
        color: 0.2392, 1., 1.
        center: win.width, 0
        on_press: self.color=[0.4, .4, .4]
        on_release:
            self.color=[0.2392, 1., 1.]
            if self.make_bigger: pass
            else: app.manager.current = 'hogScreen'
            print("changing to edgeScreen")
            self.toggle_button_behavior()
    CircleButton:
        id: bottom_left
        name: "bl"
        center: 0, 0
        color: 0.502, 0.2588, 0.9569
        on_press: self.color = [0.4, 0.4, 0.4]
        on_release:
            self.color=[0.502, 0.2588, 0.9569]
            if self.make_bigger: pass
            else: app.manager.current = "camScreen"
            self.toggle_button_behavior()
    CircleButton:
        id: top_left
        name: "tl"
        center: 0, win.height
        color: 0.2588, 0.502, 0.9569
        on_press:
            self.color = [0.4, 0.4, 0.4]
            print("clicked camScreen")
        on_release:
            self.color=[0.2588, 0.502, 0.9569]
            if self.make_bigger: pass
            else: app.manager.current = 'preprocScreen'
            self.toggle_button_behavior()
    CircleButton:
        id: top_right
        name: "tr"
        color: 0.2588, 0.3725, 0.9569
        center:  win.width, win.height
        on_press: self.color = [0.4, 0.4, 0.4]
        on_release:
            self.color=[ 0.2588, 0.3725, 0.9569]
            if self.make_bigger: pass
            else: app.manager.current = 'edgeScreen'
            self.toggle_button_behavior()
            print("changing to preprocScreen")


<CamScreen>:
    # name: 'camScreen
    cam: cam
    CameraScreen:
        id: cam
    Menu:
        id: menu
<PreprocScreen>:
    preproc: preproc
    # name: 'preprocScreen'
    Preproc_Anim:
        id: preproc
    Menu:
    Button:
        size_hint: None, None
        center: win.width/2, win.height/4
        size: 100, 50
        text: "open popup"
        on_press: app.manager.preproc_popup()
    # ModalView:
    #     id: modal
    #     size_hint: .5, .5
    #     canvas:
    #         Color:
    #             rgb: 1, 1, 1, .9
    #         Ellipse:
    #             pos: self.pos
    #             size: self.size
<EdgedetScreen>:
    edgedet: edgedet
    # name: 'edgedetScreen'
    EdgeDetect:
        id: edgedet
    Menu:
<HogScreen>:
    hog: hog
    Hog_Detect:
        id: hog
    Menu:
